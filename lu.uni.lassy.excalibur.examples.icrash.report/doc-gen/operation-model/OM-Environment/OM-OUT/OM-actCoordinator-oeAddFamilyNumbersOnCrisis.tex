\subsection{Operation Model for oeAddFamilyNumbersOnCrisis}

\label{OM-oeAddFamilyNumbersOnCrisis}


The \msrcode{oeAddFamilyNumbersOnCrisis} operation has the following properties:

	\begin{operationmodel}
	\addheading{Operation}
	\adddoublerow{oeAddFamilyNumbersOnCrisis}{sent to update the family phone numbers available for a specific handled crisis.}

	\addrowheading{Parameters}
	\addnumbereddoublerow{}{AdtCrisisID: dtCrisisID}{the identification information used to determine the crisis to add family numbers on} 
	\addnumbereddoublerow{}{AdtFamilyPhoneNumbers: dtFamilyPhoneNumbers}{the container stores family phone numbers} 

	\addrowheading{Return type}
	\addsinglerow{ptBoolean}

	\addrowheading{Pre-Condition (protocol)}
	\addnumberedsinglerow{PreP}{the system is started}
	\addnumberedsinglerow{PreP}{the actor logged previously and did not log out ! (i.e. the associated ctCoordinator instance is considered logged)}
		
	\addrowheading{Pre-Condition (functional)}
	\addnumberedsinglerow{PreF}{it is supposed that there exist one crisis in the pre state having the given id.}

	\addrowheading{Post-Condition (functional)}
	\addnumberedsinglerow{PostF}{the family phone numbers of the crisis instance having the given id is replaced by the given one and the requesting actor is notified of this update.}
	\addnumberedsinglerow{PostF}{For each phone number from AdtFamilyPhoneNumbers:
	if there is no ctHuman instance having same phone number and familyMember kind in the pre-state 
	then a new one is added in the post-state with given phone number and familyMember kind and is associated to the communication company which can be determined in container AdtFamilyPhoneNumbers (if it is not determined then association to current communication company).
	}

	\addrowheading{Post-Condition (protocol)}
	\addnumberedsinglerow{PostP}{ }
	\end{operationmodel}



	
	
	
	





